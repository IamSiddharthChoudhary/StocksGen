(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{9827:(e,t,a)=>{Promise.resolve().then(a.bind(a,988))},988:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var s=a(5155),l=a(2115),i=a(6046),n=a(8803),r=a.n(n),c=a(8627);function d(){return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:(0,s.jsxs)("div",{className:"jsx-79712cd5bf8edd79 w-64 text-center",children:[(0,s.jsxs)("div",{className:"jsx-79712cd5bf8edd79 relative",children:[(0,s.jsx)(c.A,{className:"w-24 h-24 animate-spin text-blue-500 mx-auto mb-4","aria-hidden":"true"}),(0,s.jsx)("div",{className:"jsx-79712cd5bf8edd79 absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"jsx-79712cd5bf8edd79 text-2xl font-bold text-blue-300"})})]}),(0,s.jsx)("h1",{className:"jsx-79712cd5bf8edd79 text-3xl font-bold mb-2 text-blue-300",children:"Loading..."}),(0,s.jsx)("p",{className:"jsx-79712cd5bf8edd79 text-gray-400 mb-4",children:"Preparing your presentation, This may take a while"}),(0,s.jsx)(r(),{id:"79712cd5bf8edd79",children:".progress-indicator.jsx-79712cd5bf8edd79{background-color:#8b5cf6}"}),(0,s.jsxs)("div",{className:"jsx-79712cd5bf8edd79 mt-8 space-y-2",children:[(0,s.jsx)("div",{className:"jsx-79712cd5bf8edd79 h-2 w-full bg-black rounded-full overflow-hidden",children:(0,s.jsx)("div",{style:{width:"75%"},className:"jsx-79712cd5bf8edd79 h-full bg-pink-500 rounded-full animate-pulse"})}),(0,s.jsx)("div",{className:"jsx-79712cd5bf8edd79 h-2 w-full bg-gray-800 rounded-full overflow-hidden",children:(0,s.jsx)("div",{style:{width:"55%",animationDelay:"0.2s"},className:"jsx-79712cd5bf8edd79 h-full bg-purple-500 rounded-full animate-pulse"})}),(0,s.jsx)("div",{className:"jsx-79712cd5bf8edd79 h-2 w-full bg-gray-800 rounded-full overflow-hidden",children:(0,s.jsx)("div",{style:{width:"90%",animationDelay:"0.4s"},className:"jsx-79712cd5bf8edd79 h-full bg-blue-500 rounded-full animate-pulse"})})]})]})})}var o=a(3463),x=a(9795);function m(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,x.QP)((0,o.$)(t))}let h=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:m("rounded-xl border bg-card text-card-foreground shadow",a),...l})});h.displayName="Card";let f=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:m("flex flex-col space-y-1.5 p-6",a),...l})});f.displayName="CardHeader";let u=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:m("font-semibold leading-none tracking-tight",a),...l})});u.displayName="CardTitle";let p=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:m("text-sm text-muted-foreground",a),...l})});p.displayName="CardDescription";let b=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:m("p-6 pt-0",a),...l})});function g(e){let{data:t}=e,[a,i]=(0,l.useState)(null),[n,r]=(0,l.useState)(""),[c,d]=(0,l.useState)("https://images.unsplash.com/photo-1456930266018-fda42f7404a7?q=80&w=1595&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"),[o,x]=(0,l.useState)("https://images.unsplash.com/photo-1456930266018-fda42f7404a7?q=80&w=1595&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"),[m,h]=(0,l.useState)([]),[f,u]=(0,l.useState)([]),[p,b]=(0,l.useState)([]),[g,E]=(0,l.useState)([]),[A,H]=(0,l.useState)([]),[P,O]=(0,l.useState)(""),[R,T]=(0,l.useState)({companyOverview:!0,keyMetrics:!0,financialHealth:!0,strengthsAndCatalysts:!0,analystHealth:!0,risksAndMitigations:!0,conclusion:!0});(0,l.useEffect)(()=>{a||i(t)},[t,a]);let z=(0,l.useCallback)(async()=>{if(a){try{let e=await C(a.name);d(e)}catch(e){d("https://images.unsplash.com/photo-1456930266018-fda42f7404a7?q=80&w=1595&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D")}r(await D("Give ".concat(a.name," company's description in 50-70 words"))),T(e=>({...e,companyOverview:!1}))}},[a]),B=(0,l.useCallback)(async()=>{if(a)try{let e=new Map([["Market Cap","Summarize _ market cap of ".concat(a.name," and how it benefits or disadvantaging the perception of the stock and don't specify the numbers (in less than 30 words).")],["Shares Outstanding","Summarize ".concat(a.name,"'s shares outstanding value and why it's good or bad and don't specify the numbers(in less than 30 words).")],["Shares Float","Summarize ".concat(a.name," stock's shares float value and why it's good or bad compared to _ peer group and don't specify the numbers (in less than 30 words).")],["EV/EBITDA","Summarize if ".concat(a.name," EV/EBITDA ratio is high or low. Discuss the implications of this and don't specify the numbers (in less than 30 words) ")],["P/E","Summarize ".concat(a.name," P/E value and how it compares to ").concat(a.name," peer group and don't specify the numbers. (in less than 30 words) ")],["Dividend Rate","Summarize ".concat(a.name," Dividend Yield and how it compares to ").concat(a.name," peer group and don't specify the numbers. (in less than 30 words)")]]),t=[{label:"Market Cap",value:a.marketCap},{label:"Shares Outstanding",value:a.sharesOutstanding},{label:"Shares Float",value:a.float},{label:"EV/EBITDA",value:a.evEbitda},{label:"P/E",value:a.peTtm},{label:"Dividend Rate",value:a.dividendRate}],s=await Promise.all(t.map(async t=>({...t,description:await D(e.get(t.label)||"")})));h(s)}catch(e){console.error("Error fetching key metrics:",e),h([])}finally{T(e=>({...e,keyMetrics:!1}))}},[a]),F=(0,l.useCallback)(async()=>{if(a){let e=[{label:"Cash Position",value:a.cashPosition},{label:"Total Debt",value:a.totalDebt},{label:"Debt to Equity",value:a.debtToEquity},{label:"Current Ratio",value:a.currentRatio}];u(await Promise.all(e.map(async e=>({...e,description:await D("summary of ".concat(e.label," of ").concat(a.name," in 20-30 words without the numbers"))})))),T(e=>({...e,financialHealth:!1}))}},[a]),G=(0,l.useCallback)(async()=>{if(a){let e=await D("Give me growth catalysts of ".concat(a.name," stock, give me 6 points,with headings, and description around 40 words"));console.log(e),b(function(e){let t=[];for(let a of e.split(/\d+\./).slice(1)){let[e,...s]=a.split(":"),l=s.join(":").trim();e&&l&&t.push({title:e.trim(),description:l.replace(/\.$/,"")})}return t}(e)),T(e=>({...e,strengthsAndCatalysts:!1}))}},[a]),_=(0,l.useCallback)(async()=>{if(a){let e=[{label:"Analyst Rating (1-5)",value:a.analystRating},{label:"Number of Analysts",value:a.numberOfAnalysts},{label:"Mean Target Price",value:a.meanTargetPrice},{label:"Implied +/-",value:a.impliedChange}];E(await Promise.all(e.map(async e=>({...e,description:await D("summary of ".concat(e.label," of ").concat(a.name," in 20-30 words without the numbers"))})))),T(e=>({...e,analystHealth:!1}))}},[a]),V=(0,l.useCallback)(async()=>{if(a){let e=await D("Give me 6 Risks with explanation and also their mitigations respectively of ".concat(a.name," stock with headings and description of around 20 words for each"));console.log(e),H(function(e){let t=[];for(let a of e.split(/\d+\./).slice(1)){let[e,...s]=a.split(":"),[l,i]=s.join(":").trim().split("Mitigation:");e&&l&&t.push({title:e.trim(),description:"".concat(l.trim(),"\nMitigation:").concat(i?i.trim():"Not provided")})}return t}(e)),T(e=>({...e,risksAndMitigations:!1}))}},[a]),q=(0,l.useCallback)(async()=>{if(a){let e=await D("With this info ".concat(JSON.stringify(a)," give a 70-100 words conclusion which include should we buy it or not?."));x(await C(t.name+"Conclusion")),O(e),T(e=>({...e,conclusion:!1}))}},[a]);return((0,l.useEffect)(()=>{a&&(z(),B(),F(),G(),_(),V(),q())},[a,z,B,F,G,_,V,q]),a)?(0,s.jsxs)("div",{className:"h-full flex flex-col gap-10 p-10 items-center justify-center bg-slate-900",children:[R.companyOverview?(0,s.jsx)(M,{}):(0,s.jsx)(j,{name:a.name,description:n,imageSrc:c}),R.keyMetrics?(0,s.jsx)(M,{}):(0,s.jsx)(w,{metrics:m}),R.financialHealth?(0,s.jsx)(M,{}):(0,s.jsx)(y,{financials:f}),R.strengthsAndCatalysts?(0,s.jsx)(M,{}):(0,s.jsx)(v,{strengths:p}),R.analystHealth?(0,s.jsx)(M,{}):(0,s.jsx)(N,{analystData:g}),R.risksAndMitigations?(0,s.jsx)(M,{}):(0,s.jsx)(k,{points:A}),R.conclusion?(0,s.jsx)(M,{}):(0,s.jsx)(S,{description:P,imageSrc:o})]}):(0,s.jsx)("div",{children:"Loading..."})}function j(e){let{name:t,description:a,imageSrc:l}=e;return(0,s.jsxs)(h,{className:"flex w-[80vw] h-[75vh] bg-zinc-900 shadow-2xl shadow-cyan-400 text-white border-0",children:[(0,s.jsxs)(f,{className:"flex-1 p-16 items-center justify-center",children:[(0,s.jsx)(u,{className:"barlow-bold text-5xl pb-3 font-bold text-white bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-400 inline-block text-transparent bg-clip-text",children:t}),(0,s.jsx)(p,{className:"montserrat text-xl text-center text-white",children:a})]}),(0,s.jsx)(f,{className:"w-5/12 p-0 relative overflow-hidden items-center justify-center",children:(0,s.jsx)(p,{className:"text-center overflow-hidden h-full w-full text-gray-400",children:(0,s.jsx)("img",{className:"object-cover w-full h-full rounded-r-lg",src:l,alt:"".concat(t," visual representation")})})})]})}function w(e){let{metrics:t}=e;return(0,s.jsx)(h,{className:"flex w-[80vw] h-[75vh] pt-8 pb-8 bg-zinc-900 shadow-2xl shadow-cyan-400 text-gray-100 border-0 overflow-hidden",children:(0,s.jsxs)(f,{className:"flex-1 p-16 items-center justify-center",children:[(0,s.jsx)(u,{className:"text-2xl font-bold text-white bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-400 inline-block text-transparent bg-clip-text",children:"Key Market Metrics: Reflecting Value and Potential"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,s.jsxs)("div",{className:"p-6 bg-gray-800 rounded-md text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.value}),(0,s.jsx)("p",{className:"text-base font-semibold mt-2",children:e.label}),(0,s.jsx)("p",{className:"text-xs mt-2 text-gray-400",children:e.description})]},e.label))})]})})}function y(e){let{financials:t}=e;return(0,s.jsx)(h,{className:"flex w-[80vw] h-[75vh] bg-zinc-900 shadow-2xl shadow-cyan-400 text-gray-100 border-0",children:(0,s.jsxs)(f,{className:"flex-1 p-16 items-center justify-center",children:[(0,s.jsx)(u,{className:"text-2xl font-bold pb-6 text-white bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-400 inline-block text-transparent bg-clip-text",children:"Financial Health"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(e=>(0,s.jsxs)("div",{className:"p-6 bg-gray-800 rounded-md text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.value}),(0,s.jsx)("p",{className:"text-base font-semibold mt-2",children:e.label}),(0,s.jsx)("p",{className:"text-xs mt-2 text-gray-400",children:e.description})]},e.label))})]})})}function v(e){let{strengths:t}=e;return(0,s.jsxs)(h,{className:"flex flex-col w-[80vw] overflow-hidden h-[75vh] bg-zinc-900 shadow-2xl shadow-cyan-400 text-gray-100 border-0",children:[(0,s.jsx)(f,{className:"flex-1 items-center justify-center",children:(0,s.jsx)(u,{className:"text-2xl font-bold text-white bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-400 inline-block text-transparent bg-clip-text",children:"Strengths and Catalysts for Continued Success"})}),(0,s.jsx)(b,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,t)=>(0,s.jsx)(h,{className:"bg-gray-800 border-0 rounded-lg pt-6 shadow-md",children:(0,s.jsx)(b,{className:"flex gap-9 items-start space-x-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"w-[4px] h-[15px] mt-1.5 absolute bg-purple-400 rounded-full "}),(0,s.jsx)(u,{className:"text-lg pl-3 font-semibold text-white",children:e.title}),(0,s.jsx)(p,{className:"text-sm text-gray-300 mt-2",children:e.description})]})})},t))})})]})}function N(e){let{analystData:t}=e;return(0,s.jsx)(h,{className:"flex w-[80vw] h-[75vh] bg-zinc-900 shadow-2xl shadow-cyan-400 text-gray-100 border-0",children:(0,s.jsxs)(f,{className:"flex-1 p-16 items-center justify-center",children:[(0,s.jsx)(u,{className:"text-2xl pb-6 font-bold text-white bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-400 inline-block text-transparent bg-clip-text",children:"Analyst Health"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(e=>(0,s.jsxs)("div",{className:"p-6 bg-gray-800 rounded-md text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.value}),(0,s.jsx)("p",{className:"text-base font-semibold mt-2",children:e.label}),(0,s.jsx)("p",{className:"text-xs mt-2 text-gray-400",children:e.description})]},e.label))})]})})}function k(e){let{points:t}=e;return(0,s.jsxs)(h,{className:"flex flex-col w-[80vw] h-[75vh] bg-zinc-900 shadow-2xl shadow-cyan-400 text-gray-100 border-0 overflow-hidden",children:[(0,s.jsx)(f,{className:"flex-1 p-3 items-center justify-center",children:(0,s.jsx)(u,{className:"text-2xl font-bold text-white bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-400 inline-block text-transparent bg-clip-text",children:"Risks and Mitigations"})}),(0,s.jsx)(b,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pb-6",children:t.map((e,t)=>(0,s.jsx)(h,{className:"bg-gray-800 border-0 rounded-lg pt-6 shadow-md",children:(0,s.jsx)(b,{className:"flex items-start space-x-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"w-[4px] h-[15px] mt-1.5 absolute bg-purple-400 rounded-full "}),(0,s.jsx)(u,{className:"flex pl-3 gap-2 text-lg font-semibold text-white",children:e.title}),(0,s.jsx)(p,{className:"text-sm text-gray-300 mt-2",children:e.description.split("Mitigation:").map((e,t)=>(0,s.jsx)(l.Fragment,{children:0===t?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsxs)("span",{className:"font-bold text-white",children:["Mitigation:"," "]}),e]})},t))})]})})},t))})})]})}function S(e){let{description:t,imageSrc:a}=e;return(0,s.jsxs)(h,{className:"flex w-[80vw] h-[75vh] bg-zinc-900 shadow-2xl shadow-cyan-400 text-gray-100 border-0",children:[(0,s.jsx)(f,{className:"w-1/3 p-0 relative overflow-hidden items-center justify-center",children:(0,s.jsx)(p,{className:"text-center overflow-hidden h-full w-full text-gray-400",children:(0,s.jsx)("img",{className:"object-cover h-full rounded-l-lg",src:a,alt:"".concat(name," visual representation")})})}),(0,s.jsxs)(f,{className:"flex-1 p-16 items-center justify-center",children:[(0,s.jsx)(u,{className:"text-4xl pb-3 font-bold text-white bg-gradient-to-r from-purple-400 via-blue-500 to-indigo-400 inline-block text-transparent bg-clip-text",children:"Conclusion"}),(0,s.jsx)(p,{className:"text-xl text-center text-gray-400",children:t})]})]})}async function C(e){let t=await fetch("/api/image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stockName:e})});return(await t.json()).imageUrl}async function D(e){let t=await fetch("/api/prompt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});return JSON.parse(await t.text()).response}function M(){return(0,s.jsx)(h,{className:"flex w-[80vw] h-[75vh] bg-zinc-900 shadow-2xl shadow-cyan-400 text-gray-100 border-0 items-center justify-center",children:(0,s.jsx)(b,{children:(0,s.jsx)("div",{className:"w-16 h-16 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})})})}function E(){let[e,t]=(0,l.useState)(null),[a,n]=(0,l.useState)(!0),[r,c]=(0,l.useState)(null),{id:o}=(0,i.useParams)();return((0,l.useEffect)(()=>{(async()=>{if("string"!=typeof o){c("Invalid stock ticker"),n(!1);return}try{n(!0);let e=async e=>{let t=await fetch("/api/stock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticker:e})});if(!t.ok)throw Error("Failed to fetch stock data");return await t.json()},a=await e(o);console.log(a),t(a)}catch(e){c(e instanceof Error?e.message:"Failed to load stock data"),console.error("Error loading stock data:",e)}finally{n(!1)}})()},[o]),a)?(0,s.jsx)(d,{}):r?(0,s.jsx)("div",{className:"text-red-500",children:r}):e?(0,s.jsx)(g,{data:e}):(0,s.jsx)("div",{children:"No data available"})}b.displayName="CardContent",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{ref:t,className:m("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[934,441,517,358],()=>t(9827)),_N_E=e.O()}]);